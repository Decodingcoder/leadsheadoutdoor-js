<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>FFL Search</title>

  <script>
    function defineAndRunFFL() {
      // 1) Wait for both FFL and the container
      function tryInit() {
        var container = document.getElementById('ffl_container');
        if (window.FFL && container) {
          console.log('â–¶ Running FFL.init after both SDK & container ready');
          FFL.init({
            container: 'ffl_container',
            apiKey:    'V5ThVSNeQHwXMLESio6ed7HE9JwyEacfRe7TtOJR458y0GnhsZU7xMwkhyvKKRRz6814c201e7b07',
            geoKey:    'AIzaSyBeWDDQUtesS9aAYT7Y4BSw_MCv6ItnS4k',
            cBack:     data => console.log('ðŸ“¦ dealer data:', data)
          });
        } else {
          // retry shortly
          setTimeout(tryInit, 50);
        }
      }
      tryInit();
    }
  </script>

  <!-- Load the widget SDK; when itâ€™s done, call our function -->
  <script
    src="https://app.fflapi.com/sdk/widget.js"
    onload="defineAndRunFFL()">
  </script>
</head>
<body>
  <!-- This must exist before we call FFL.init -->
  <div id="ffl_container" style="min-height:300px;border:1px solid #ccc;"></div>
</body>
</html>
