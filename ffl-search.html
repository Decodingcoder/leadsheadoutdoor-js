<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>FFL Search</title>
  <!-- 1) SDK -->
  <script src="https://app.fflapi.com/sdk/widget.js"></script>
  <!-- 2) Your init code (pure JS) -->
  <script src="https://Decodingcoder.github.io/leadsheadoutdoor-js/ffl-init.js"></script>
</head>
<body>
  <input id="ffl-query" placeholder="Enter city or license…">
  <button id="ffl-btn">Search</button>
  <div id="ffl_container"></div>

  <!-- 3) Hook up the search button -->
  <script>
    document.getElementById('ffl-btn').onclick = function() {
      var term = document.getElementById('ffl-query').value;
      // perform search; FFL.search is provided by the SDK
      FFL.search({
        term: term,
        apiKey: 'V5ThVSNeQHwXMLESio6ed7HE9JwyEacfRe7TtOJR458y0GnhsZU7xMwkhyvKKRRz6814c201e7b07',
        geoKey: 'AIzaSyBeWDDQUtesS9aAYT7Y4BSw_MCv6ItnS4k'
      })
      .then(function(data){
        document.getElementById('ffl_container').innerHTML =
          data.map(function(i){
            return '<div>' + i.license_name + ' — ' + i.premise_state + '</div>';
          }).join('');
      });
    };
  </script>
</body>
</html>
